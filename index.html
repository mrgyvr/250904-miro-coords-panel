<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Miro Coords Panel – App Entrypoint</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script type="module">
      // If opened outside Miro (e.g., directly in a browser tab), show a hint
      if (!window.miro || !miro.board) {
        const msg = document.createElement('div');
        msg.style.cssText = 'font:14px/1.4 system-ui; padding:16px;';
        msg.innerHTML = `
          <strong>This page is meant to run inside a Miro board.</strong><br>
          Your hosting looks good. Now open a board in the team where the app is installed.
        `;
        document.body.appendChild(msg);
      } else {
        // Register the toolbar icon click → open our panel
        miro.board.ui.on('icon:click', () => {
          miro.board.ui.openPanel({ url: 'panel.html' });
        });

        // TEMP: Auto-open the panel to prove the app is loading on the board.
        // After you see the panel open successfully, you can comment this out.
        miro.board.ui.openPanel({ url: 'panel.html' });
      }
    </script>
  </body>
</html>

